<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–°–±–æ—Ä–Ω–∏–∫</title>
  <style>
    :root {
      --primary: #165DFF;
      --secondary: #7B61FF;
      --sidebar-bg: #0F172A;
      --sidebar-text: #E2E8F0;
      --main-bg: #F8FAFC;
      --text-color: #1E293B;
      --border-color: #CBD5E1;
      --hover-bg: rgba(255, 255, 255, 0.05);
      --active-bg: rgba(22, 93, 255, 0.15);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: var(--main-bg);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    /* üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é ‚Äî –∫–Ω–æ–ø–∫–∞ */
    .mobile-menu-btn {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      background: var(--primary);
      color: white;
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 8px;
      font-size: 24px;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    /* üìö –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
    .sidebar {
      width: 280px;
      background-color: var(--sidebar-bg);
      color: var(--sidebar-text);
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      overflow-y: auto;
      transition: transform 0.3s ease;
      z-index: 90;
    }

    .sidebar-header {
      padding: 0 20px 20px;
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--primary);
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 10px;
    }

    .nav-item {
      padding: 16px 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      border-left: 4px solid transparent;
      font-size: 18px;
    }

    .nav-item:hover {
      background-color: var(--hover-bg);
      border-left: 4px solid var(--secondary);
    }

    .nav-item.active {
      background-color: var(--active-bg);
      border-left: 4px solid var(--primary);
      color: #FFFFFF;
    }

    /* üìñ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
    .main-content {
      flex: 1;
      margin-left: 280px;
      padding: 30px;
      transition: margin-left 0.3s ease;
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      line-height: 1.7;
      color: var(--text-color);
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      color: var(--primary);
      margin: 24px 0 16px;
      font-size: 1.8rem;
    }

    h3 {
      margin: 20px 0 12px;
    }

    p, ul, ol {
      margin-bottom: 16px;
      font-size: 1rem;
      line-height: 1.6;
    }

    code {
      background: #F1F5F9;
      padding: 4px 8px;
      border-radius: 4px;
      font-family: monospace;
      color: var(--text-color);
      font-size: 0.95rem;
    }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 16px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    /* üéõÔ∏è –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤ */
    .interactive-block {
      background: #f0f7ff;
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #165DFF;
      margin: 30px 0;
      box-shadow: 0 4px 12px rgba(22, 93, 255, 0.1);
    }

    .interactive-block h3 {
      color: #165DFF;
      margin-bottom: 16px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 1rem;
    }

    input, select, button {
      font-size: 1rem;
      padding: 12px;
      border-radius: 8px;
      width: 100%;
      margin-bottom: 16px;
    }

    button {
      width: auto;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: block;
      }

      .sidebar {
        transform: translateX(-100%);
        width: 85vw;
        min-width: 280px;
        max-width: 320px;
      }

      .sidebar.open {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
        padding: 20px 16px;
      }

      .nav-item {
        padding: 18px 20px;
        font-size: 1.1rem;
      }

      h2 {
        font-size: 1.5rem;
        margin: 20px 0 12px;
      }

      p, ul, ol {
        font-size: 1rem;
      }

      input, select {
        padding: 14px;
        font-size: 1.05rem;
      }

      button {
        padding: 14px 20px;
        font-size: 1.05rem;
      }

      .interactive-block {
        padding: 16px;
        margin: 20px 0;
      }
    }
  </style>
</head>
<body>

  <!-- üì± –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
  <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>

  <!-- üìö –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">–°–±–æ—Ä–Ω–∏–∫</div>
    <div class="nav-item active" data-tab="tab1">
      <span> –†–∞—Å—á–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π </span>
    </div>
    <div class="nav-item" data-tab="tab2">
      <span> –ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ </span>
    </div>
    <div class="nav-item" data-tab="tab3">
      <span> –ö–æ—ç—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ </span>
    </div>
    <div class="nav-item" data-tab="tab4">
      <span> –°–∏—Å—Ç–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Å—Å–µ—Ç —ç–Ω–∫–æ–¥–µ—Ä–æ–≤ </span>
    </div>
    <div class="nav-item" data-tab="tab5">
      <span> MNC501 </span>
    </div>
  </div>

  <!-- üìñ –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
  <div class="main-content">

    <!-- –í–ö–õ–ê–î–ö–ê 1 -->
    <div id="tab1" class="tab-content active">
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
  <h2>üßÆ –†–∞—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏</h2>
  <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.</p>

  <!-- üßæ –ë–ª–æ–∫ –∫–æ–º–∞–Ω–¥—ã (–≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É!) -->
  <div class="interactive-block" style="background: #fffbeb; padding: 24px; border-radius: 12px; border: 2px solid #ca8a04; margin: 30px 0; box-shadow: 0 4px 12px rgba(202, 138, 4, 0.1);">
    <h3 style="color: #ca8a04; margin-bottom: 20px;">üßæ –ì–æ—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞</h3>
    <div id="command-result" style="padding: 16px; background: #1E293B; color: white; border-radius: 8px; font-family: monospace; font-size: 1.1rem; white-space: pre-wrap; word-break: break-all; display: none;">
      <div id="final-command" style="padding: 12px; background: rgba(255,255,255,0.1); border-radius: 6px;"></div>
    </div>
    <button id="copy-command-btn" onclick="copyCommand()" style="margin-top: 16px; padding: 10px 20px; background: #ca8a04; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; display: none;">
      üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
    </button>
  </div>

  <!-- üßÆ –ë–ª–æ–∫ –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
  <div class="interactive-block" style="background: #f0f9ff; padding: 24px; border-radius: 12px; border: 2px solid #7B61FF; margin: 30px 0; box-shadow: 0 4px 12px rgba(123, 97, 255, 0.1);">
    <h3 style="color: #7B61FF; margin-bottom: 20px;">üîß –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>

    <div id="parameters-grid" style="display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); margin-bottom: 24px; align-items: end;">
      <div><label>–ù–æ–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏:</label><input type="number" id="input-q" placeholder="1" min="1" required></div>
      <div><label>–ù–æ–º–µ—Ä –º–æ—Ç–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞:</label><input type="number" id="input-w" placeholder="5" min="1" max="32" required></div>
      <div><label>–ù–æ–º–µ—Ä –º–æ—Ç–æ—Ä–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–∞:</label><input type="number" id="input-e" placeholder="3" min="1" max="32" required></div>
      <div><label>–†–∞–∑—Ä–µ—à–∞—é—â–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–∞—Ç—á–∏–∫–∞ (–¥–∏—Å–∫/–º–º):</label><input type="number" id="input-r" placeholder="1000" step="any" min="0.001" required></div>
      <div><label>–ö–æ–ª-–≤–æ —Ç–æ—á–µ–∫ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label><input type="number" id="input-t" placeholder="100" min="2" required title="T –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 2"></div>
      <div><label>–°—Ç–∞–Ω–æ—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (–º–º):</label><input type="number" id="input-o" placeholder="500" step="any" required></div>
      <div><label>–°—Ç–∞–Ω–æ—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫–æ–Ω—Ü–∞ (–º–º):</label><input type="number" id="input-p" placeholder="500" step="any" required></div>
    </div>

    <button onclick="calculateAll()" style="padding: 14px 28px; background: #7B61FF; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 500; display: inline-flex; align-items: center; gap: 8px;">
      üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å—ë
    </button>
  </div>

  <!-- üìä –ë–ª–æ–∫ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç -->
  <div class="interactive-block" style="background: #f0fdf4; padding: 24px; border-radius: 12px; border: 2px solid #16a34a; margin: 30px 0; box-shadow: 0 4px 12px rgba(22, 163, 74, 0.1);">
    <h3 style="color: #16a34a; margin-bottom: 20px;">üìä –¢–∞–±–ª–∏—Ü–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π</h3>

    <div id="coordinates-error" style="display: none; padding: 16px; background: #fee2e2; color: #dc2626; border-radius: 8px; border-left: 4px solid #dc2626; margin-bottom: 20px;">
      ‚ùå <span id="error-message-text">–®–∞–≥ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –Ω–µ —Ü–µ–ª—ã–π.</span>
    </div>

    <div id="coordinates-container" style="display: none; overflow-x: auto;">
      <div style="margin-bottom: 16px; padding: 12px; background: #dcfce7; border-radius: 8px; font-weight: 500;">
        –®–∞–≥ (Y): <span id="step-value"></span> –º–º | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (I): <span id="distance-value"></span> –¥–∏—Å–∫—Ä–µ—Ç
      </div>
      <table id="coordinates-table" style="width: 100%; border-collapse: collapse; margin-top: 16px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
        <thead>
          <tr style="background: #16a34a; color: white;">
            <th style="padding: 12px; text-align: center;">‚Ññ</th>
            <th style="padding: 12px; text-align: center;">–°—Ç–∞–Ω–æ—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (–º–º)</th>
            <th style="padding: 12px; text-align: center;">–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–æ–º–µ—Ç—Ä—É (–º–∫–º)</th>
            <th style="padding: 12px; text-align: center;">–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ç–∞–±–ª–∏—á–Ω–∞—è (–¥–∏—Å–∫—Ä)</th>
          </tr>
        </thead>
        <tbody id="coordinates-body">
          <!-- –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç —Å—é–¥–∞ -->
        </tbody>
      </table>

      <div style="margin-top: 20px; display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
        <button onclick="generateValuesString()" style="padding: 12px 24px; background: #ea580c; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">
          üì§ –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π
        </button>
        <div id="values-string-output" style="flex: 1; min-width: 300px; padding: 12px; background: #fffbeb; border: 1px dashed #ca8a04; border-radius: 6px; font-family: monospace; font-size: 14px; word-break: break-all; display: none;"></div>
        <button id="copy-values-btn" onclick="copyValuesString()" style="padding: 12px 16px; background: #ca8a04; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; display: none;">üìã</button>
      </div>
    </div>
  </div>

<script>
  // –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏–Ω–ø—É—Ç–æ–≤
  document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('#tab6 input');
    inputs.forEach(input => {
      input.style.width = '100%';
      input.style.padding = '12px';
      input.style.border = '1px solid #CBD5E1';
      input.style.borderRadius = '8px';
      input.style.background = 'white';
      input.style.fontSize = '16px';
      input.style.marginTop = '4px';
    });
  });

  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞
  function calculateAll() {
    const q = document.getElementById('input-q').value.trim();
    const w = document.getElementById('input-w').value.trim();
    const e = document.getElementById('input-e').value.trim();
    const r = parseFloat(document.getElementById('input-r').value);
    const t = parseInt(document.getElementById('input-t').value);
    const o = parseFloat(document.getElementById('input-o').value);
    const p = parseFloat(document.getElementById('input-p').value);

    // –í–∞–ª–∏–¥–∞—Ü–∏—è: –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —á–∏—Å–ª–∞–º–∏
    if (!q || !w || !e || isNaN(r) || isNaN(t) || isNaN(o) || isNaN(p)) {
      alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è —á–∏—Å–ª–∞–º–∏.');
      return;
    }

    // üîí –ó–∞–ø—Ä–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è O –∏ P
    if (o < 0 || p < 0) {
      document.getElementById('error-message-text').textContent = '–í–≤–æ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∑–∞–ø—Ä–µ—â–µ–Ω';
      document.getElementById('coordinates-error').style.display = 'block';
      document.getElementById('coordinates-container').style.display = 'none';
      document.getElementById('command-result').style.display = 'none';
      return;
    }

    if (t < 2 || r <= 0) {
      document.getElementById('error-message-text').textContent = 'T –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 2, R > 0.';
      document.getElementById('coordinates-error').style.display = 'block';
      return;
    }

    // üîë –§–æ—Ä–º—É–ª–∞ —à–∞–≥–∞: Y = (|O| + |P|) / (T - 1) ‚Üí –Ω–æ O –∏ P —É–∂–µ >= 0
    const y = (o + p) / (t - 1);

    if (!Number.isInteger(y)) {
      document.getElementById('error-message-text').textContent = '–®–∞–≥ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ –Ω–µ —Ü–µ–ª—ã–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ O, P, T.';
      document.getElementById('coordinates-error').style.display = 'block';
      document.getElementById('coordinates-container').style.display = 'none';
      document.getElementById('command-result').style.display = 'none';
      return;
    }

    document.getElementById('coordinates-error').style.display = 'none';

    // I = |Y * T * R| ‚Üí —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
    const i = Math.round(Math.abs(y * t * r));

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º R –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
    window.globalR = r;

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
    document.getElementById('step-value').textContent = y;
    document.getElementById('distance-value').textContent = i.toLocaleString();

    // –°—Ç—Ä–æ–∏–º —Ç–∞–±–ª–∏—Ü—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ—Ç -O –¥–æ +P (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ: -500 ‚Üí 500)
    buildCoordinatesTable(-o, p, y, t);

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—É –ë–ï–ó –°–ö–û–ë–û–ö
    const command = `#${q} DEFINE COMP ${t + 1},#${w}D,#${e}, ${i}`;
    document.getElementById('final-command').textContent = command;
    document.getElementById('command-result').style.display = 'block';
    document.getElementById('copy-command-btn').style.display = 'inline-block';

    document.getElementById('coordinates-container').style.display = 'block';
    document.getElementById('values-string-output').style.display = 'none';
    document.getElementById('copy-values-btn').style.display = 'none';
  }

  // –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ—Ç -O –¥–æ +P
  function buildCoordinatesTable(start, end, step, count) {
    const tbody = document.getElementById('coordinates-body');
    tbody.innerHTML = '';

    let current = start;
    const totalPoints = count;

    for (let i = 0; i < totalPoints; i++) {
      const calcCellId = `calc-${i}`;
      const inputCellId = `input-${i}`;

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee;">${i + 1}</td>
        <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee;">${current}</td>
        <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee;">
          <input type="number" step="any" id="${inputCellId}" placeholder="–º–∫–º" 
                 oninput="updateCalculation(${i})"
                 style="width: 100%; padding: 8px; border: 1px solid #CBD5E1; border-radius: 4px; font-size: 14px;">
        </td>
        <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee;" id="${calcCellId}">
          ‚Äî
        </td>
      `;
      tbody.appendChild(tr);

      current += step;
    }

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å 0
    const lastIdx = totalPoints;
    const trZero = document.createElement('tr');
    trZero.innerHTML = `
      <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee; background: #f0fdf4;"><strong>–î–æ–ø.</strong></td>
      <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee; background: #f0fdf4;"><strong>0</strong></td>
      <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee; background: #f0fdf4;">
        <input type="number" step="any" id="input-${lastIdx}" placeholder="–º–∫–º" 
               oninput="updateCalculation(${lastIdx})"
               style="width: 100%; padding: 8px; border: 1px solid #CBD5E1; border-radius: 4px; font-size: 14px;">
      </td>
      <td style="padding: 12px; text-align: center; border-bottom: 1px solid #eee; background: #f0fdf4;" id="calc-${lastIdx}">
        ‚Äî
      </td>
    `;
    tbody.appendChild(trZero);
  }

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–∞ ‚Üí —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º R
  function updateCalculation(index) {
    const input = document.getElementById(`input-${index}`);
    const calcCell = document.getElementById(`calc-${index}`);

    if (!input || !calcCell) return;

    const userValue = parseFloat(input.value);
    const r = window.globalR || 0;

    if (isNaN(userValue) || r <= 0) {
      calcCell.textContent = "‚Äî";
      return;
    }

    // üîë –§–æ—Ä–º—É–ª–∞: 16 * –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ * (R / 1000) ‚Üí —Ü–µ–ª–æ–µ
    const calculated = Math.round(16 * userValue * (r / 1000));
    calcCell.textContent = calculated;
  }

  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π
  function generateValuesString() {
    const t = parseInt(document.getElementById('input-t').value);
    if (isNaN(t)) return;

    const values = [];
    const totalRows = t + 1; // T —Ç–æ—á–µ–∫ + 1 –¥–æ–ø. —Å—Ç—Ä–æ–∫–∞

    for (let i = 0; i < totalRows; i++) {
      const calcCell = document.getElementById(`calc-${i}`);
      values.push(calcCell && calcCell.textContent !== "‚Äî" ? calcCell.textContent : "0");
    }

    const resultString = values.join(" ");
    const outputDiv = document.getElementById('values-string-output');
    outputDiv.textContent = resultString;
    outputDiv.style.display = 'block';
    document.getElementById('copy-values-btn').style.display = 'inline-block';
  }

  // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
  function copyCommand() {
    const command = document.getElementById('final-command').textContent;
    navigator.clipboard.writeText(command).then(() => {
      alert('‚úÖ –ö–æ–º–∞–Ω–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
    }).catch(() => {
      alert('–û—à–∏–±–∫–∞. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é.');
    });
  }

  // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π
  function copyValuesString() {
    const text = document.getElementById('values-string-output').textContent;
    navigator.clipboard.writeText(text).then(() => {
      alert('‚úÖ –°—Ç—Ä–æ–∫–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
    });
  }
</script>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	  
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 2 -->
    <div id="tab2" class="tab-content">
      <h2>–ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤</h2>

      <div class="interactive-block">
        <h3>üîç –ü–æ–∏—Å–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–æ—Ç–æ—Ä–∞</h3>
        <div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 20px;">
          <div style="flex: 1; min-width: 200px;">
            <label for="motor-select">–ù–æ–º–µ—Ä –º–æ—Ç–æ—Ä–∞:</label>
            <select id="motor-select">
              <option value="">‚Äî –í—ã–±–µ—Ä–∏—Ç–µ ‚Äî</option>
              <script>
                for (let i = 1; i <= 32; i++) {
                  document.write(`<option value="${i}">–ú–æ—Ç–æ—Ä ${i}</option>`);
                }
              </script>
            </select>
          </div>
          <div style="flex: 1; min-width: 200px;">
            <label for="param-select">–ü–∞—Ä–∞–º–µ—Ç—Ä:</label>
            <select id="param-select">
              <option value="">‚Äî –í—ã–±–µ—Ä–∏—Ç–µ ‚Äî</option>
              <option value="position_set">–ó–∞–¥–∞–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</option>
              <option value="position_actual">–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</option>
              <option value="position_error">–†–∞—Å—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª–æ–∂–µ–Ω–∏—é</option>
              <option value="current_id">–¢–æ–∫ –Ω–∞–º–∞–≥–Ω–∏—á–∏–≤–∞–Ω–∏—è, Id</option>
              <option value="current_iq">–¢–æ–∫ –Ω–∞–≥—Ä—É–∑–∫–∏, Iq</option>
              <option value="speed_set">–ó–∞–¥–∞–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</option>
              <option value="speed_actual">–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</option>
            </select>
          </div>
        </div>
        <div id="result-box" style="padding: 16px; background: #E6F0FF; border-radius: 8px; border-left: 4px solid #165DFF; display: none; font-size: 1rem; font-weight: 600;">
          <span>–ê–¥—Ä–µ—Å: </span><span id="result-value"></span>
        </div>
      </div>

      <img src="karta_pam.png" alt="–ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏">

    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 3 -->
    <div id="tab3" class="tab-content">
      <h2>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª–æ–∂–µ–Ω–∏—è</h2>

      <div class="interactive-block">
        <h3>üßÆ –†–∞—Å—á—ë—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h3>
        <p>–§–æ—Ä–º—É–ª–∞: <strong>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 1 / 32 / Ix08 √ó (1000 / #x->)</strong></p>
        <div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 20px;">
          <div style="flex: 1; min-width: 200px;">
            <label for="input-x">–í–≤–µ–¥–∏—Ç–µ Ix08:</label>
            <input type="number" id="input-x" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5" step="any">
          </div>
          <div style="flex: 1; min-width: 200px;">
            <label for="input-y">–í–≤–µ–¥–∏—Ç–µ #x-> (–µ—Å–ª–∏ 0, —Å—Ç–∞–≤–∏—Ç—å 1000):</label>
            <input type="number" id="input-y" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1000" step="any">
          </div>
        </div>
        <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 20px;">
          <button onclick="calculateCoefficient()" style="background: #7B61FF; color: white; border: none;">üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
          <button onclick="resetCoefficient()" style="background: #f1f5f9; color: #64748b; border: 1px solid #cbd5e1;">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
        <div id="result-coeff" style="padding: 16px; background: #E0E7FF; border-radius: 8px; border-left: 4px solid #7B61FF; display: none; font-weight: 600;">
          <span>–†–µ–∑—É–ª—å—Ç–∞—Ç: </span><span id="coeff-value"></span>
        </div>
      </div>

      <h2>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è —Ç–æ–∫–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å k(plot)</h2>
      <img src="koef_privod.jpg" alt="–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è —Ç–æ–∫–∞">

    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 4 -->
    <div id="tab4" class="tab-content">
      <h2>–°–∏—Å—Ç–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Å—Å–µ—Ç —ç–Ω–∫–æ–¥–µ—Ä–æ–≤ (EnDat, BISS, SSI, Tamagawa)</h2>
      <img src="shema_dannih.png" alt="–°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö">
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê 5 -->
    <div id="tab5" class="tab-content">
      <h2>–û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º—ã—á–µ–∫</h2>
      <img src="MNC501_peremichki.png" alt="–ü–µ—Ä–µ–º—ã—á–∫–∏ MNC501">

      <h2>–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã –∫–∞–Ω–∞–ª–∞</h2>
      <img src="MNC501_vibor_rezjima.png" alt="–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã 1">
      <img src="MNC501_vibor_rezjima2.png" alt="–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã 2">

      <h2>Master - slave</h2>
      <p>–í —Å–ª—É—á–∞–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –º–æ–¥—É–ª—è –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —à–ª–µ–π—Ñ–µ ‚Äì –ø–µ—Ä–µ–º—ã—á–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã!</p>
      <img src="MNC501_vibor_rezjima3.png" alt="Master-Slave">
    </div>

  </div>

  <script>
    // üéØ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        this.classList.add('active');
        const tabId = this.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });

    // üì± –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
    }

    // üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ ‚Äî –¥–∞–Ω–Ω—ã–µ –∏–∑ PDF
    const motorMap = {
      1: { position_set: "D:$88", position_actual: "D:$8B", position_error: "D:$91", current_id: "X:$B9", current_iq: "Y:$B9", speed_set: "D:$C6", speed_actual: "D:$EF" },
      2: { position_set: "D:$108", position_actual: "D:$10B", position_error: "D:$111", current_id: "X:$139", current_iq: "Y:$139", speed_set: "D:$146", speed_actual: "D:$16F" },
      3: { position_set: "D:$188", position_actual: "D:$18B", position_error: "D:$191", current_id: "X:$1B9", current_iq: "Y:$1B9", speed_set: "D:$1C6", speed_actual: "D:$1EF" },
      4: { position_set: "D:$208", position_actual: "D:$20B", position_error: "D:$211", current_id: "X:$239", current_iq: "Y:$239", speed_set: "D:$246", speed_actual: "D:$26F" },
      5: { position_set: "D:$288", position_actual: "D:$28B", position_error: "D:$291", current_id: "X:$2B9", current_iq: "Y:$2B9", speed_set: "D:$2C6", speed_actual: "D:$2EF" },
      6: { position_set: "D:$308", position_actual: "D:$30B", position_error: "D:$311", current_id: "X:$339", current_iq: "Y:$339", speed_set: "D:$346", speed_actual: "D:$36F" },
      7: { position_set: "D:$388", position_actual: "D:$38B", position_error: "D:$391", current_id: "X:$3B9", current_iq: "Y:$3B9", speed_set: "D:$3C6", speed_actual: "D:$3EF" },
      8: { position_set: "D:$408", position_actual: "D:$40B", position_error: "D:$411", current_id: "X:$439", current_iq: "Y:$439", speed_set: "D:$446", speed_actual: "D:$46F" },
      9: { position_set: "D:$488", position_actual: "D:$48B", position_error: "D:$491", current_id: "X:$4B9", current_iq: "Y:$4B9", speed_set: "D:$4C6", speed_actual: "D:$4EF" },
      10: { position_set: "D:$508", position_actual: "D:$50B", position_error: "D:$511", current_id: "X:$539", current_iq: "Y:$539", speed_set: "D:$546", speed_actual: "D:$56F" },
      11: { position_set: "D:$588", position_actual: "D:$58B", position_error: "D:$591", current_id: "X:$5B9", current_iq: "Y:$5B9", speed_set: "D:$5C6", speed_actual: "D:$5EF" },
      12: { position_set: "D:$608", position_actual: "D:$60B", position_error: "D:$611", current_id: "X:$639", current_iq: "Y:$639", speed_set: "D:$646", speed_actual: "D:$66F" },
      13: { position_set: "D:$688", position_actual: "D:$68B", position_error: "D:$691", current_id: "X:$6B9", current_iq: "Y:$6B9", speed_set: "D:$6C6", speed_actual: "D:$6EF" },
      14: { position_set: "D:$708", position_actual: "D:$70B", position_error: "D:$711", current_id: "X:$739", current_iq: "Y:$739", speed_set: "D:$746", speed_actual: "D:$76F" },
      15: { position_set: "D:$788", position_actual: "D:$78B", position_error: "D:$791", current_id: "X:$7B9", current_iq: "Y:$7B9", speed_set: "D:$7C6", speed_actual: "D:$7EF" },
      16: { position_set: "D:$808", position_actual: "D:$80B", position_error: "D:$811", current_id: "X:$839", current_iq: "Y:$839", speed_set: "D:$846", speed_actual: "D:$86F" },
      17: { position_set: "D:$888", position_actual: "D:$88B", position_error: "D:$891", current_id: "X:$8B9", current_iq: "Y:$8B9", speed_set: "D:$8C6", speed_actual: "D:$8EF" },
      18: { position_set: "D:$908", position_actual: "D:$90B", position_error: "D:$911", current_id: "X:$939", current_iq: "Y:$939", speed_set: "D:$946", speed_actual: "D:$96F" },
      19: { position_set: "D:$988", position_actual: "D:$98B", position_error: "D:$991", current_id: "X:$9B9", current_iq: "Y:$9B9", speed_set: "D:$9C6", speed_actual: "D:$9EF" },
      20: { position_set: "D:$A08", position_actual: "D:$A0B", position_error: "D:$A11", current_id: "X:$A39", current_iq: "Y:$A39", speed_set: "D:$A46", speed_actual: "D:$A6F" },
      21: { position_set: "D:$A88", position_actual: "D:$A8B", position_error: "D:$A91", current_id: "X:$AB9", current_iq: "Y:$AB9", speed_set: "D:$AC6", speed_actual: "D:$AEF" },
      22: { position_set: "D:$B08", position_actual: "D:$B0B", position_error: "D:$B11", current_id: "X:$B39", current_iq: "Y:$B39", speed_set: "D:$B46", speed_actual: "D:$B6F" },
      23: { position_set: "D:$B88", position_actual: "D:$B8B", position_error: "D:$B91", current_id: "X:$BB9", current_iq: "Y:$BB9", speed_set: "D:$BC6", speed_actual: "D:$BEF" },
      24: { position_set: "D:$C08", position_actual: "D:$C0B", position_error: "D:$C11", current_id: "X:$C39", current_iq: "Y:$C39", speed_set: "D:$C46", speed_actual: "D:$C6F" },
      25: { position_set: "D:$C88", position_actual: "D:$C8B", position_error: "D:$C91", current_id: "X:$CB9", current_iq: "Y:$CB9", speed_set: "D:$CC6", speed_actual: "D:$CEF" },
      26: { position_set: "D:$D08", position_actual: "D:$D0B", position_error: "D:$D11", current_id: "X:$D39", current_iq: "Y:$D39", speed_set: "D:$D46", speed_actual: "D:$D6F" },
      27: { position_set: "D:$D88", position_actual: "D:$D8B", position_error: "D:$D91", current_id: "X:$DB9", current_iq: "Y:$DB9", speed_set: "D:$DC6", speed_actual: "D:$DEF" },
      28: { position_set: "D:$E08", position_actual: "D:$E0B", position_error: "D:$E11", current_id: "X:$E39", current_iq: "Y:$E39", speed_set: "D:$E46", speed_actual: "D:$E6F" },
      29: { position_set: "D:$E88", position_actual: "D:$E8B", position_error: "D:$E91", current_id: "X:$EB9", current_iq: "Y:$EB9", speed_set: "D:$EC6", speed_actual: "D:$EEF" },
      30: { position_set: "D:$F08", position_actual: "D:$F0B", position_error: "D:$F11", current_id: "X:$F39", current_iq: "Y:$F39", speed_set: "D:$F46", speed_actual: "D:$F6F" },
      31: { position_set: "D:$F88", position_actual: "D:$F8B", position_error: "D:$F91", current_id: "X:$FB9", current_iq: "Y:$FB9", speed_set: "D:$FC6", speed_actual: "D:$FEF" },
      32: { position_set: "D:$1008", position_actual: "D:$100B", position_error: "D:$1011", current_id: "X:$1039", current_iq: "Y:$1039", speed_set: "D:$1046", speed_actual: "D:$106F" }
    };

    // üéØ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞
    document.getElementById('motor-select')?.addEventListener('change', updateResult);
    document.getElementById('param-select')?.addEventListener('change', updateResult);

    function updateResult() {
      const motor = document.getElementById('motor-select')?.value;
      const param = document.getElementById('param-select')?.value;
      const resultBox = document.getElementById('result-box');
      const resultValue = document.getElementById('result-value');

      if (motor && param) {
        const value = motorMap[motor][param];
        resultValue.textContent = value;
        resultBox.style.display = 'block';
      } else {
        resultBox.style.display = 'none';
      }
    }

    // üßÆ –†–∞—Å—á—ë—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞
    function calculateCoefficient() {
      const xInput = document.getElementById('input-x');
      const yInput = document.getElementById('input-y');
      if (!xInput || !yInput) return;

      const x = parseFloat(xInput.value);
      const y = parseFloat(yInput.value);
      const resultBox = document.getElementById('result-coeff');
      const resultValue = document.getElementById('coeff-value');

      if (isNaN(x) || isNaN(y)) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.');
        return;
      }

      if (x === 0 || y === 0) {
        alert('–ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω—É–ª–µ–≤—ã–º–∏.');
        return;
      }

      const coefficient = (1 / 32 / x) * (1000 / y);
      resultValue.textContent = coefficient.toFixed(8);
      resultBox.style.display = 'block';
    }

    function resetCoefficient() {
      const xInput = document.getElementById('input-x');
      const yInput = document.getElementById('input-y');
      const resultBox = document.getElementById('result-coeff');
      if (xInput) xInput.value = '';
      if (yInput) yInput.value = '';
      if (resultBox) resultBox.style.display = 'none';
    }
  </script>

</body>
</html>